<h1>Contacts</h1>
<%= will_paginate(@contacts, :renderer => WillPaginate::ActionView::BootstrapLinkRenderer, class: 'justify-content-center') %>
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Address</th>
      <th>Date of birth</th>
      <th>Credit card</th>
      <th>Created</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @contacts.each do |contact| %>
      <tr>
        <td><%= contact.name %></td>
        <td><%= contact.email %></td>
        <td><%= contact.phone %></td>
        <td><%= contact.address %></td>
        <td><%= contact.format_birth_date %></td>
        <td><%= "#{contact.card_franchise} #{"*"*8}#{contact.card_last_four_digits}" %></td>
        <td><%= "#{time_ago_in_words(contact.created_at)} ago" %></td>
        <td><%= link_to 'Destroy', contact, class: "btn btn-sm btn-danger", method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to 'Export CSV', contacts_path(format: :csv), class: "btn btn-success" %>